<!DOCTYPE html>
<html>
<head>
	<title>VueJS Learning - events</title>
	<meta charset="utf-8">
</head>
<body>
	<div id="app">
		<button v-on:click="increase">Click to increase</button><!-- kind of opposite of "bind", instead of retrieve JS code to put in template
		we do the reverse : we updating JS data from template, thanks here to user's action-->
		<!-- it is a cleaner syntax with Vue directive-->
		
		<!-- it is also possible to pass an argument to the handler / callback -->
		<!-- we can also pass the event object (specific to Vue -> DON'T override it !) when it is not auto injected (unlike mousemove)-->
		<button v-on:click="customIncrease(2,$event)">Click to increase custom</button>
		<!--it is also possible to write JS in attribute-->
		<button v-on:click="variable+=3">Increase to 3</button>
		<span>{{ x * 3 }}</span> <!--it is also possible to write operations in interpolation-->
		<span>{{ x > 500 ? "Hey where are you going ?" : "" }}</span> <!--ternary operations are of course possible-->
 		<p>{{ variable }}</p>
		<p v-on:mousemove="update">Â {{ x }} / {{ y }}</br>
			<span v-on:mousemove="noUpdating">DON'T UPDATE THIS PART !</span></br> <!--prevent updating version 1-->
			<span v-on:mousemove.stop="">DON'T UPDATE THIS PART 2 !</span> <!--by using an event modifier : version 2-->
		</p> 											
						<!-- when we'll move the mouse, the attributes must be updated-->
						<!--before updating, the data of the action is "injected" as an argument to the
						handler, at the occurrence, update() -->
		
		<!-- keyboard events -->
		 <input type="text" v-on:keyup="notify" v-on:keyup.enter="sendDummy">
	</div>
	<script src="vue.js"></script>
	<script>
		new Vue({
			el: "#app",
			data:{
				variable: 0,
				x: 0,
				y: 0,
				warning: ""
			},
			methods:{
				increase: function()
				{
					this.variable++;
				},				//we can retrieve event's data thanks to event object generated by JS, in case where we are calling a handler function
				customIncrease: function(step,event) //we must create a parameter here because we've sat one in HTML + parameter for event object
				{
					this.variable += step;
					console.log(event);
				},
				update: function(event)
				{
					//clientX, clientY, attributes from JS not VueJS
					this.x = event.clientX;
					this.y = event.clientY;
				},
				noUpdating: function(event) //first version to prevent updating
				{
					event.stopPropagation(); //we stop the event propagation (preventing handler to respond)
					console.log("not allowed"); 
				},
				notify: function()
				{
					console.log("you are typing something");
				},
				sendDummy: function()
				{
					console.warn("Hey ! there is nothing to send !");
				}
			}
		});
	</script>
</body>
</html>